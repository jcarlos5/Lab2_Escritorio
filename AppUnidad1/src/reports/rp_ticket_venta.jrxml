<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rp_ticket_venta" language="groovy" pageWidth="226" pageHeight="425" columnWidth="186" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="7d001495-c973-42af-ae0a-a38078114274">
	<property name="ireport.zoom" value="4.177248169415661"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="245"/>
	<parameter name="p_numventa" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select cli.nombres, cli.direccion, v.fecha, v.subtotal, v.igv, v.total, v.serie,
lpad(v.numventa::text,8,'0') as correlativo,
(case when  v.tipocomprobante =true then 'BOLETA ELECTRONICA' else 'FACTURA ELECTRONICA' end) as tipo_comprobante,
p.nomproducto, d.cantidad, d.subtotal as subtotal_item,
e.razon_social, e.ruc, e.direccion as direccion_empresa, e.distrito, e.provincia, e.departamento
from venta v inner join cliente cli on v.codcliente=cli.codcliente
inner join detalle d on v.numventa = d.numventa
inner join producto p on d.codproducto=p.codproducto
inner join establecimiento e on e.id=1
where v.numventa=$P{p_numventa}]]>
	</queryString>
	<field name="nombres" class="java.lang.String"/>
	<field name="direccion" class="java.lang.String"/>
	<field name="fecha" class="java.sql.Date"/>
	<field name="subtotal" class="java.math.BigDecimal"/>
	<field name="igv" class="java.math.BigDecimal"/>
	<field name="total" class="java.math.BigDecimal"/>
	<field name="serie" class="java.lang.String"/>
	<field name="correlativo" class="java.lang.String"/>
	<field name="tipo_comprobante" class="java.lang.String"/>
	<field name="nomproducto" class="java.lang.String"/>
	<field name="cantidad" class="java.lang.Integer"/>
	<field name="subtotal_item" class="java.math.BigDecimal"/>
	<field name="razon_social" class="java.lang.String"/>
	<field name="ruc" class="java.lang.String"/>
	<field name="direccion_empresa" class="java.lang.String"/>
	<field name="distrito" class="java.lang.String"/>
	<field name="provincia" class="java.lang.String"/>
	<field name="departamento" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="148" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="186" height="20" uuid="ac9121b0-46ed-45c5-b0a6-f1ff36f9460a"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{razon_social}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="20" width="186" height="12" uuid="755dde95-d627-496c-88eb-6fb650e9fc5a"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["RUC: "+$F{ruc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="32" width="186" height="14" uuid="f1cf94f2-3438-4247-b8e5-01e09063056e"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{direccion_empresa}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="46" width="186" height="11" uuid="598e9958-7516-4c95-82ff-a5ebfd318d7f"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{distrito}+" - "+$F{provincia}+" - "+$F{departamento}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="57" width="186" height="14" uuid="29a46ec7-82b0-4fd0-9a6d-ceebab3235a7"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{tipo_comprobante}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="71" width="186" height="13" uuid="f3d530da-4f50-4ae1-89ff-4c4711f58909"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{serie}+" - "+$F{correlativo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="85" width="41" height="12" uuid="b6f0e5c6-9375-47ca-9902-13946d857288"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Fecha:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="97" width="41" height="12" uuid="dc2f8c43-2b84-423f-a15d-3144f9b5feed"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Cliente:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="109" width="41" height="12" uuid="2dabf81f-c51f-47ec-b90b-12e7bc9762dc"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Dir:]]></text>
			</staticText>
			<textField>
				<reportElement x="41" y="85" width="145" height="12" uuid="5bd70d71-2425-4d45-bac9-0de5f07f8a58"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="41" y="97" width="145" height="12" uuid="0b381550-d404-4138-ac36-fdbd609705fc"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombres}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="41" y="109" width="145" height="12" uuid="1967ee1b-39ee-4607-a4d2-ad0ffd734273"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{direccion}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="128" width="91" height="15" uuid="15d03259-c741-450b-891d-c4b5d5282953"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[ARTICULO]]></text>
			</staticText>
			<staticText>
				<reportElement x="91" y="128" width="47" height="15" uuid="aac3899a-5b41-4462-a64c-7e21cc7a3213"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CANT]]></text>
			</staticText>
			<staticText>
				<reportElement x="138" y="128" width="48" height="15" uuid="5c1497d6-5c7d-4aef-8da8-61c99f4bbe54"/>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[IMP]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="143" width="186" height="1" uuid="9b716d81-9b1c-494c-bcf2-a57db26d80eb"/>
			</line>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="91" height="20" uuid="f89eb06d-af48-43b0-a2c2-b00ec0995a6e"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nomproducto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="91" y="0" width="47" height="20" uuid="e639e1a7-2ce2-4e95-a658-3926a084fad9"/>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="138" y="0" width="48" height="20" uuid="b006a476-a4d8-4f6b-9c71-cd413fc4c2d6"/>
				<textFieldExpression><![CDATA[$F{subtotal_item}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="49" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="5" width="62" height="11" uuid="b79a80c8-ac31-40cf-abd7-c49db5dd2d99"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[SUBTOTAL:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="16" width="62" height="11" uuid="85cadcd5-48f5-4d4d-a789-9a36dacbefeb"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[I.G.V.]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="27" width="62" height="11" uuid="ea2966b5-fe95-4e8e-837e-cd15d34a283a"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[TOTAL:]]></text>
			</staticText>
			<textField>
				<reportElement x="62" y="5" width="124" height="11" uuid="453f1017-2df6-46ba-b0fd-09d5258077c8"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="62" y="16" width="124" height="11" uuid="06650a37-3c62-489d-8861-f2cfb0abc018"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{igv}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="62" y="27" width="124" height="11" uuid="34103611-ade0-4a2c-95f2-dffc9ba9e99b"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="3" width="186" height="1" uuid="bc62e13f-f3b1-40d0-abb9-f1e693e30e00"/>
			</line>
		</band>
	</summary>
</jasperReport>
